{% extends 'base.html' %}
{% block content %}
<h2>Registration Form</h2>
<form method="post" novalidate>
  <div class="mb-3">
    <label class="form-label">Full Name</label>
    <input name="name" class="form-control" required value="{{ form.name if form else '' }}">
  </div>
  <div class="mb-3">
    <label class="form-label">WhatsApp Number</label>
    <input name="whatsapp" class="form-control" required value="{{ form.whatsapp if form else '' }}">
  </div>
  <div class="mb-3">
    <label class="form-label">Email</label>
    <input name="email" type="email" class="form-control" required value="{{ form.email if form else '' }}">
  </div>

  <div class="mb-3">
    <label class="form-label">Qualification</label>
    <select name="qualification" class="form-select" required>
      <option value="">Choose...</option>
      <option value="School">School</option>
      <option value="UG">UG</option>
      <option value="PG">PG</option>
      <option value="PhD">PhD</option>
      <option value="Other">Other</option>
    </select>
  </div>

  <div class="mb-3">
    <label class="form-label">Designation</label>
    <select name="designation" class="form-select" required>
      <option value="">Choose...</option>
      <option value="Student">Student</option>
      <option value="Faculty">Faculty</option>
      <option value="IT Professional">IT Professional</option>
      <option value="Non-IT">Non-IT</option>
      <option value="Other">Other</option>
    </select>
  </div>

  <div class="mb-3">
    <label class="form-label">Gender</label>
    <select name="gender" class="form-select" required>
      <option value="">Choose...</option>
      <option value="Male">Male</option>
      <option value="Female">Female</option>
      <option value="Other">Other</option>
    </select>
  </div>

  <div class="mb-3">
    <label class="form-label">College / Company</label>
    <input name="college" class="form-control" required value="{{ form.college if form else '' }}">
  </div>

  <div class="mb-3">
    <label class="form-label">Interested in Blood Donation?</label>
    <div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="blood_donation" id="blood_yes" value="Yes">
        <label class="form-check-label" for="blood_yes">Yes</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="blood_donation" id="blood_no" value="No" checked>
        <label class="form-check-label" for="blood_no">No</label>
      </div>
    </div>
  </div>

  <div class="mb-3" id="blood-group-row" style="display:none;">
    <label class="form-label">Blood Group</label>
    <select name="blood_group" class="form-select">
      <option value="">Choose...</option>
      <option>A+</option>
      <option>A-</option>
      <option>B+</option>
      <option>B-</option>
      <option>AB+</option>
      <option>AB-</option>
      <option>O+</option>
      <option>O-</option>
    </select>
  </div>

  <div class="mb-3">
    <label class="form-label">Interested in Weekly Webinar?</label>
    <div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="webinar_interest" id="web_yes" value="Yes">
        <label class="form-check-label" for="web_yes">Yes</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="webinar_interest" id="web_no" value="No" checked>
        <label class="form-check-label" for="web_no">No</label>
      </div>
    </div>
  </div>

  <div class="mb-3" id="webinar-date-row" style="display:none;">
    <label class="form-label">Preferred Webinar Date</label>
    <input name="webinar_date" type="date" class="form-control">
    <div class="form-text">Date will be stored as YYYY-MM-DD.</div>
  </div>

  <button class="btn btn-primary" type="submit">Submit</button>
</form>

<script>
  function updateVisibility() {
    const bloodYes = document.getElementById('blood_yes');
    const bloodGroupRow = document.getElementById('blood-group-row');
    bloodGroupRow.style.display = bloodYes.checked ? 'block' : 'none';

    const webYes = document.getElementById('web_yes');
    const webDateRow = document.getElementById('webinar-date-row');
    webDateRow.style.display = webYes.checked ? 'block' : 'none';
  }

  document.getElementById('blood_yes').addEventListener('change', updateVisibility);
  document.getElementById('blood_no').addEventListener('change', updateVisibility);
  document.getElementById('web_yes').addEventListener('change', updateVisibility);
  document.getElementById('web_no').addEventListener('change', updateVisibility);
  // initial
  updateVisibility();
</script>
{% endblock %}
